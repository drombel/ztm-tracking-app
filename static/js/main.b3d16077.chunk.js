(this["webpackJsonpztm-tracker"]=this["webpackJsonpztm-tracker"]||[]).push([[0],{38:function(e,t){e.exports="data:image/png;base64,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"},41:function(e,t,n){e.exports=n(75)},46:function(e,t,n){},68:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),l=(n(46),n(16)),u=n(3),A=n(11),i=n(7),s=n.n(i),d=n(12),m=n(19),p=n.n(m),f=p.a.create({baseURL:"https://ckan2.multimediagdansk.pl"}),v=function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/gpsPositions").then((function(e){return e.data.Vehicles.filter((function(e){return e.GPSQuality>=2}))})).catch((function(e){return console.error(e),[]})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).toISOString().split("T")[0],e.next=3,p.a.get("https://ckan.multimediagdansk.pl/dataset/c24aa637-3619-4dc2-a171-a23eec8f2172/resource/b15bb11c-7e06-4685-964e-3db7775f912f/download/trips.json").then((function(e){return e.data[t].trips})).catch((function(e){return console.error(e),[]})).then((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=n(40),b=n(35),E=n(39);n(68);var C=function(e){var t,n=Object(a.useState)({id:0,hidden:!1}),c=Object(A.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)([]),i=Object(A.a)(u,2),m=i[0],p=i[1],f=e.idField,v=Object(a.useRef)(null),h=e.mapMarker,C=null===e||void 0===e?void 0:e.mapSidebarItem,Q=null!==(t=null===e||void 0===e?void 0:e.autoUpdate)&&void 0!==t&&t,N=Object(a.useState)(!1),w=Object(A.a)(N,2),O=w[0],D=w[1],B=Object(a.useRef)(),x=Object(a.useState)(null),k=Object(A.a)(x,2),T=k[0],y=k[1],j=Object(a.useState)(10),X=Object(A.a)(j,2),L=X[0],F=X[1],H=function(){var t=Object(d.a)(s.a.mark((function t(){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===e||void 0===e?void 0:e.refreshFunc();case 2:if(t.t1=n=t.sent,t.t0=null!==t.t1,!t.t0){t.next=6;break}t.t0=void 0!==n;case 6:if(!t.t0){t.next=10;break}t.t2=n,t.next=11;break;case 10:t.t2=[];case 11:if(0!==(a=t.t2).length){t.next=15;break}return console.error("Fetched data from Tristar API is empty"),t.abrupt("return");case 15:p(a);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){return H(),Q&&(v.current=setInterval((function(){return H()}),Q)),function(){return clearTimeout(v.current)}}),[]);var I=function(e){var t=e.item,n=e.MapMarker,a=o.id===t[f]&&!o.hidden;t.current=a;return t.closeFunction=function(){return l({id:0,hidden:!0})},r.a.createElement(n,{item:t})},z=function(e){var t=e.lat,n=e.lng,a=e.supercluster,c=e.cluster,o=e.pointCount;return r.a.createElement("div",{className:"marker",onClick:function(){var e=Math.min(a.getClusterExpansionZoom(c.id),20);B.current.setZoom(e),B.current.panTo({lat:t,lng:n})}},r.a.createElement("div",{className:"cluster"},o))};return r.a.createElement("div",{className:"map"},C&&r.a.createElement("div",{className:"map__sidebar".concat(O?" active":"")},r.a.createElement("div",{className:"map__sidebar-container"},m.map((function(e,t){var n=e[f]===o.id;return r.a.createElement("div",{className:"map__sidebar-item".concat(n?" active":""),key:t,onClick:function(){l({id:e[f],hidden:!1}),B.current.setZoom(16),B.current.panTo({lat:e.Lat,lng:e.Lon})}},r.a.createElement(C,{item:e}))})),r.a.createElement("div",{className:"menu-button",onClick:function(){return D((function(e){return!e}))}},r.a.createElement("span",null)))),r.a.createElement(b.a,{bootstrapURLKeys:{key:"AIzaSyBtEh6FMFwJA-0X7NNb8yDlQ1M7x-PJ8iU"},defaultCenter:e.center,defaultZoom:e.zoom,onChildClick:function(e,t){var n,a;null!==(n=null===(a=t.item)||void 0===a?void 0:a[f])&&void 0!==n&&n&&l((function(e){var n=e.id,a=e.hidden;return{id:n===t.item[f]?0:t.item[f],hidden:a}})),o.hidden&&l({id:0,hidden:!1})},onClick:function(e){return l({id:0,hidden:!1})},yesIWantToUseGoogleMapApiInternals:!0,shouldUnregisterMapOnUnmount:!0,onGoogleApiLoaded:function(e){var t=e.map;t.setClickableIcons(!1),B.current=t},onChange:function(e){var t=e.zoom,n=e.bounds;F(t),y([n.nw.lng,n.se.lat,n.se.lng,n.nw.lat])}},function(){var e=m.map((function(e){return{type:"Cluster",properties:{item:Object(g.a)({},e),cluster:!1},geometry:{type:"Point",coordinates:[parseFloat(e.Lon),parseFloat(e.Lat)]}}})),t=Object(E.a)({points:e,bounds:T,zoom:L,options:{radius:75,maxZoom:20}}),n=t.clusters,a=t.supercluster;return n.map((function(e,t){var n=Object(A.a)(e.geometry.coordinates,2),c=n[0],o=n[1],l=e.properties,u=l.cluster,i=l.point_count;return u?r.a.createElement(z,{key:t,lat:o,lng:c,supercluster:a,cluster:e,pointCount:i}):r.a.createElement(I,{key:t,lat:o,lng:c,item:e.properties.item,MapMarker:h})}))}().map((function(e){return e}))))},Q=n(17),N=function(e){var t=e.routes;return{type:"ROUTES_SET",payload:{routes:void 0===t?[]:t}}};var w=function(e){var t=Object(Q.c)((function(e){return e.routes})),n=Object(Q.b)(),c=function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.t1=N,e.next=4,h();case 4:return e.t2=e.sent,e.t3={routes:e.t2},e.t4=(0,e.t1)(e.t3),e.abrupt("return",(0,e.t0)(e.t4));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){0===t.length&&c()}),[]);var o=Object(a.useCallback)(Object(d.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return(n=(n=e.sent).map((function(e){return e.RouteStop=t.find((function(t){return t.tripId===parseInt(e.Route)&&t.routeId===parseInt(e.Line)})),e.DelayTime=new Date(1e3*Math.abs(e.Delay)).toISOString().substr(11,8).replace(/00:/,""),e}))).sort((function(e,t){return e.Line.localeCompare(t.Line)})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"vh-100"},t.length>0&&r.a.createElement(C,{center:{lat:54.385561,lng:18.600739},zoom:12,refreshFunc:o,idField:"VehicleId",autoUpdate:5e3,mapMarker:function(e){var t=e.item;return r.a.createElement("div",{className:"marker"},r.a.createElement("div",{className:"dot"},t.Line),t.current&&r.a.createElement("div",{className:"info"},r.a.createElement("table",{className:"table-responsive table-striped table-hover"},r.a.createElement("thead",{className:"w-100 d-table"},r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2,onClick:t.closeFunction},"Hide"))),r.a.createElement("tbody",{className:"w-100 d-table"},t.Line&&r.a.createElement("tr",null,r.a.createElement("td",{className:"p-1"},"Line"),r.a.createElement("td",{className:"border-left p-1 font-weight-bold"},t.Line)),0!==t.Delay&&r.a.createElement("tr",null,r.a.createElement("td",{className:"p-1"},t.Delay>0?"Delay":"Before time"),r.a.createElement("td",{className:"border-left p-1 font-weight-bold"},t.DelayTime)),t.RouteStop&&r.a.createElement("tr",null,r.a.createElement("td",{className:"p-1"},"Route"),r.a.createElement("td",{className:"border-left p-1 font-weight-bold"},t.RouteStop.title)),t.VehicleCode&&r.a.createElement("tr",null,r.a.createElement("td",{className:"p-1"},"Vehicle code"),r.a.createElement("td",{className:"border-left p-1 font-weight-bold"},t.VehicleCode)),t.Speed>0&&r.a.createElement("tr",null,r.a.createElement("td",{className:"p-1"},"Speed"),r.a.createElement("td",{className:"border-left p-1 font-weight-bold"},null===t||void 0===t?void 0:t.Speed," km/h"))))))},mapSidebarItem:function(e){var t=e.item;return r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-2 col-sm-3 p-2 font-weight-bold d-flex align-items-center justify-content-center"},t.Line),r.a.createElement("div",{className:"col-10 col-sm-9 p-2 font-weight-bold border-left"},t.RouteStop&&t.RouteStop.title))}})))},O=(n(71),[{to:"/",exact:!0,component:function(){return r.a.createElement("div",{className:"p-4"},r.a.createElement("pre",{className:"text-wrap text-break"},r.a.createElement("h2",null,"ZTM Tracker"),r.a.createElement("p",null,"Application represents ZTM data based on their API which can be found ",r.a.createElement("a",{href:"https://ckan.multimediagdansk.pl/dataset/tristar",rel:"noopener noreferrer",target:"_blank",className:"font-weight-normal"},"here"),"."),r.a.createElement("p",null,"For this moment You can see current position of the vehicles like buses and trams around Gda\u0144sk area. Each vehicle shows delay and unique vehicle code.")))}},{to:"/buses",component:function(){return r.a.createElement("div",null,r.a.createElement(w,null))},title:"Buses"}]),D=n(38),B=n.n(D),x=(n(72),function(){var e=Object(a.useState)(!1),t=Object(A.a)(e,2),n=t[0],c=t[1],o=function(){return c(!0)};return r.a.createElement("header",{className:n?"active":""},r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-brand p-3"},r.a.createElement(l.b,{to:"/",className:"text-decoration-none",onClick:o},r.a.createElement("img",{src:B.a,alt:"ZTM tracker",className:"img-fluid"}),r.a.createElement("div",{className:"h2 text-white text-center"},"ZTM tracker"))),r.a.createElement("ul",{className:"nav flex-column"},O.map((function(e,t){var n=e.to,a=e.title;e.exact;return a&&r.a.createElement(l.c,{to:n,exact:!0,key:t,className:"nav-item text-decoration-none py-2 px-3 font-weight-normal h5 m-0",activeClassName:"shadow active",onClick:o},a)})))),r.a.createElement("div",{className:"menu-button",onClick:function(){return c((function(e){return!e}))}},r.a.createElement("span",null)))}),k=function(){return r.a.createElement("div",{className:"p-4"},r.a.createElement("pre",{className:"text-wrap"},"Sorry, but we couldn't find what you have been looking for :("))};n(74);var T=function(){return r.a.createElement("div",{className:"App min-vh-100"},r.a.createElement(l.a,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement(x,null),r.a.createElement("main",{className:"min-vh-100"},r.a.createElement(u.c,null,O.map((function(e,t){return r.a.createElement(u.a,{exact:e.exact,path:e.to,key:t,component:e.component})})),r.a.createElement(u.a,{component:k}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=n(14),j=[],X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ROUTES_SET":var n=t.payload.routes.map((function(e){return e.title=e.tripHeadsign.replace(/\(\d+\)/g,""),e}));return n;default:return e}},L=Object(y.b)({routes:X}),F=Object(y.c)(L);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q.a,{store:F},r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.b3d16077.chunk.js.map